{% block rednose_widget_editor_widget %}
    {{ block ('textarea_widget') }}

    <script>
        var editor = CKEDITOR.inline('{{ id }}', {
            extraPlugins: 'confighelper',

            toolbar: {{ toolbar|json_encode|raw }},

            {% if scayt %}
                scayt_autoStartup: true,
                disableNativeSpellChecker: true,
            {% endif %}

            removePlugins: 'elementspath',
            resize_enabled: false,

            scayt_sLang: '{{ locale }}',
            language: '{{ locale }}',
            height: '{{ height }}',

            // Helvetica and Verdana is all we allow. Font choice is only here to correct pasted stuff from other sources,
            // ideally the font and the size are dictated by the configured template for this particular document.
            font_names: 'Helvetica; Verdana'
        });

        var user = {
            id  : '{{ app.user.id }}',
            name: '{{ app.user.bestname }}'
        };

    </script>
{% endblock rednose_widget_editor_widget %}
