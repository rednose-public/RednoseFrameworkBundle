{% block rednose_widget_editor_widget %}
    <div class="widget_editor">
        {{ block ('textarea_widget') }}
    </div>

    <script language="javascript">
        var user = {
            id  : '{{ app.user.id }}',
            name: '{{ app.user.bestname }}'
        };

        tinymce.init({
            theme: 'advanced',
            selector: '#{{ id }}',
            inline: true,

            style_formats: [
                {title: 'Bold text', inline: 'b'},
                {title: 'Red text', inline: 'span', styles: {color: '#ff0000'}},
                {title: 'Red header', block: 'h1', styles: {color: '#ff0000'}},
                {title: 'Example 1', inline: 'span', classes: 'example1'},
                {title: 'Example 2', inline: 'span', classes: 'example2'},
                {title: 'Table styles'},
                {title: 'Table row 1', selector: 'tr', classes: 'tablerow1'}
            ],

            setup : function(ed) {
                ed.onChange.add(function(ed, l) {
                    console.log('Editor contents was modified. Contents: ' + l.content);
                });

                ed.onKeyUp.add(function(ed, l) {
                    console.log('Editor contents was modified. Contents: ' + l.content);
                });
            }
        });
    </script>
{% endblock rednose_widget_editor_widget %}
