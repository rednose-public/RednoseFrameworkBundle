{% block rednose_autocomplete_widget %}
    {{ block ('form_widget') }}

    <script language="javascript">
        YUI().use('rednose-form', function (Y) {
            var Autocomplete = Y.Rednose.ControlFormAutoComplete;

            YUI.Env.Autocomplete || (YUI.Env.Autocomplete = {});

            YUI.Env.Autocomplete['{{ id }}'] = new Autocomplete({
                inputNode : '#{{ id }}',
                choices   : {{ choices|json_encode|raw }},
                datasource: {{ datasource|json_encode|raw }}
            }).render();
        });
    </script>
{% endblock rednose_autocomplete_widget %}
