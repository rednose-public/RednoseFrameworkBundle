{% autoescape false %}

digraph pool_graph {
    {# Graph settings. #}
    bgcolor=transparent;
    {% if graph.portrait %}
      rankdir=LR;
    {% endif %}
    model=circuit;
    ratio=compress;
    compound=true;
    labelfloat=true;
    graph [
      nodesep=0.1
      ];
    {# Default nodes. #}
    node [
      color="#333333",
      style="filled",
      fontcolor="#333333",
      fillcolor="#FFFFFF",
      fontsize=8,
      fontname="DejaVu Sans Semi-Condensed",
      margin=0.05];
    {# Default arrows. #}
    edge [
      color="#333333",
      arrowsize=0.8,
      arrowhead="normal"];

    {% for node in graph.nodes %}
        "{{ node.id }}" [
          {% if node.url %}
            URL="{{ node.url }}"
          {% endif %}
          fillcolor="#FFE28A",
          label="{{ node.label }}"
          tooltip="{{ node.tooltip }}"
        ];
    {% endfor %}

    {% for edge in graph.edges %}
        {% if edge.bidirectional %}
            edge [dir="both"]
        {% else %}
            edge [dir="forward"]
        {% endif %}
        "{{ edge.input.id }}" -> "{{ edge.output.id }}";
    {% endfor %}
}

{% endautoescape %}
